$bg-color: #eee;
$border-color: #999;
$border-size: 1px;
$open-bg-color: #393939;
$down-bg-color: #ccc;

:host {
  display: flex;
  font-family: 'Press Start 2P', cursive;
}

.minesweeper-body {
  border: solid ($border-size * 2) $border-color;
  padding: 25px 10px 20px;
  background-color: #ccc;
  &.minesweeper-is-done {
    .minesweeper-lands {
      pointer-events: none;
    }
  }
  .minesweeper-dash {
    // border: solid ($border-size * 2) $border-color;
    display: flex;
    justify-content: space-between;
    // padding: 8px;
    margin-bottom: 15px;
    .minesweeper-number,
    .minesweeper-face{
      border: solid ($border-size * 2) $border-color;
      height: 40px;
      background-color: $open-bg-color;
    }
    .minesweeper-number {
      $number-size: 18px;
      $number-spacing: 1px;
      $number-padding: 10px;
      $mask-paddng: 2px;
      width: $number-size * 3 + $number-spacing * 3 + $number-padding * 2 + $border-size * 4;
      font-size: $number-size;
      letter-spacing: $number-spacing;
      position: relative;
      background-color: $open-bg-color;
      &::before,
      &::after {
        font: inherit;
        position: absolute;
        top: 50%;
        transform: translate(2px, -50%);
        text-align: right;
        color: #eee;
      }
      &::before {
        content: '000';
        right: $number-padding;
        opacity: 0.3;
      }
      &::after {
        content: attr(data-content);
        background-color: $open-bg-color;
        padding: $mask-paddng;
        right: $number-padding - $mask-paddng;
      }
    }
    .minesweeper-face {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      cursor: pointer;
      svg {
        width: 26px;
        height: 26px;
        fill: #ccc;
      }
    }
  }
  .minesweeper-lands {
    border: solid $border-size $border-color;
    .minesweeper-row {
      display: flex;
      align-items: center;
    }
    .minesweeper-col {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 25px;
      height: 25px;
      border: solid $border-size $border-color;
      background-color: $bg-color;
      text-align: center;
      position: relative;
      font-size: 12px;
      cursor: pointer;
      &[data-content='1'] {
        color: #0984e3;
      }
      &[data-content='2'] {
        color: #00b894;
      }
      &[data-content='3'] {
        color: #d63031;
      }
      &[data-content='4'] {
        color: #6c5ce7;
      }
      &[data-content='5'] {
        color: #e17055;
      }
      &[data-content='6'] {
        color: #74b9ff;
      }
      &[data-content='7'] {
        color: #dfe6e9;
      }
      &[data-content='8'] {
        color: #b2bec3;
      }
      &:hover {
        background-color: $down-bg-color;
      }
      &::before,
      &::after {
        color: inherit;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
      }
      &.minesweeper-is-down {
        background-color: $down-bg-color;
      }
      &.minesweeper-is-open {
        background-color: $open-bg-color;
        &::before {
          content: attr(data-content);
        }
      }
      &.minesweeper-is-landmine {
        background-color: $bg-color;
        &::after {
          content: 'X';
          color: #f24;
          font-weight: bold;
        }
      }
      &.minesweeper-is-flag {
        color: transparent;
        background-color: $bg-color;
        &::before {
          content: 'F';
          color: #159;
          font-weight: bold;
        }
        &.minesweeper-is-open.minesweeper-is-landmine {
          &::after {
            content: '';
          }
        }
        &.minesweeper-is-open:not(.minesweeper-is-landmine) {
          &::after {
            position: absolute;
            content: '\\';
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
          }
        }
      }
    }
  }
}
